[
  {
    "id": "tmpl-simplify-choice-001",
    "concept_id": "simplify-001",
    "type": "choice",
    "difficulty": 1,
    "param_schema": {
      "f": { "min": 2, "max": 4 },
      "p": { "min": 1, "max": 4 },
      "q": { "min": 3, "max": 7 }
    },
    "prompt_template": "{{f * p}}/{{f * q}}를 약분하면?",
    "choices_template": [
      "{{reduceFrac(f * p, f * q)}}",
      "{{reduceFracOff(f * p, f * q, 1)}}",
      "{{reduceFracOff(f * p, f * q, 2)}}",
      "{{reduceFracOff(f * p, f * q, 3)}}"
    ],
    "solver_rule": "reduceFrac(f * p, f * q)",
    "solution_steps_template": [
      "{{f * p}}와 {{f * q}}의 최대공약수를 구합니다.",
      "분자와 분모를 최대공약수로 나눕니다.",
      "{{f * p}}/{{f * q}} = {{reduceFrac(f * p, f * q)}}"
    ]
  },
  {
    "id": "tmpl-simplify-number-001",
    "concept_id": "simplify-001",
    "type": "number",
    "difficulty": 2,
    "param_schema": {
      "f": { "min": 2, "max": 5 },
      "p": { "min": 1, "max": 5 },
      "q": { "min": 2, "max": 6 }
    },
    "prompt_template": "{{f * p}}/{{f * q}}를 기약분수로 나타내세요. (예: 1/2)",
    "solver_rule": "reduceFrac(f * p, f * q)",
    "solution_steps_template": [
      "{{f * p}}와 {{f * q}}의 공약수를 찾습니다.",
      "최대공약수인 {{f}}로 분자와 분모를 나눕니다.",
      "{{f * p}} ÷ {{f}} = {{p}}, {{f * q}} ÷ {{f}} = {{q}}",
      "기약분수: {{reduceFrac(f * p, f * q)}}"
    ]
  },
  {
    "id": "tmpl-simplify-choice-002",
    "concept_id": "simplify-001",
    "type": "choice",
    "difficulty": 1,
    "param_schema": {
      "f": { "min": 2, "max": 3 },
      "p": { "min": 1, "max": 3 },
      "q": { "min": 4, "max": 8 }
    },
    "prompt_template": "{{f * p}}/{{f * q}}를 약분했을 때 분자는?",
    "choices_template": [
      "{{reducedNum(f * p, f * q)}}",
      "{{reducedNum(f * p, f * q) + 1}}",
      "{{reducedNum(f * p, f * q) + 2}}",
      "{{reducedNum(f * p, f * q) + 4}}"
    ],
    "solver_rule": "reducedNum(f * p, f * q)",
    "solution_steps_template": [
      "{{f * p}}/{{f * q}}를 약분합니다.",
      "{{f * p}}/{{f * q}} = {{reduceFrac(f * p, f * q)}}",
      "약분한 분자: {{reducedNum(f * p, f * q)}}"
    ]
  }
]
